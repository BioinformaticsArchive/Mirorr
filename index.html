<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Mirorr by aehrc</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Mirorr</h1>
          <h2>Multimodal Image Registration using blOck-matching and Robust Regression</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/aehrc/Mirorr/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/aehrc/Mirorr/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/aehrc/Mirorr" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <p>Mirorr is a software developed at <a href="http://aehrc.com/">The Australian E-Health Research Centre</a> for <strong>3D rigid/affine</strong> medical image registration that implements a <strong>robust</strong> and <strong>inverse-consistent</strong> algorithm. Mirror is a command line application that is relatively easy to use. Being robust, it is suitable for both <strong>mono- and multi-modal</strong> applications. Inverse-consistency means that transform computed from image A to image B is <strong>precisely the inverse</strong> of the one computed from image B to image A. That means that it is not necessary to manage situation like the one illustrated below, simplifying your pipeline.</p>

<p><img src="images/fig1.png" alt="Non inverse-consistent registration"></p>

<p>More formally, Mirorr implements a robust multimodal image registration method that is based on local correlations computed using a block-matching approach. Both rigid and affine transformation models are available. By default, Mirorr benefits from a half-way space definition and is inverse-consistent for most practical purposes. That means that the order of input images on the command line has a notably reduced effect on the end result, simplifying analysis, reducing opportunities for user error, and increasing robustness. This algorithm has been extensively tested for CT-MR, MR-MR and MR-PET registrations, using pelvis and head/brain datasets. An experimental GPU implementation is available. </p>

<p>This software has been developed by <a href="https://github.com/drhenault">David Rivest-Hénault</a>, <a href="http://baconmockup.com/600/800/">Nick Dowson</a>, and a team of researchers from <a href="http://www.csiro.au/">CSIRO</a>'s <a href="http://aehrc.com/">The Australian E-Health Research Centre</a>, see AUTHORS.txt for more details, and is made available under the terms of a liberal open source license, see LICENSE.txt.</p>

<p>This is the main web page for CSIRO Mirorr. </p>

<h1>
<a id="contents" class="anchor" href="#contents" aria-hidden="true"><span class="octicon octicon-link"></span></a>CONTENTS</h1>

<ul>
<li><a href="http://aehrc.github.io/Mirorr/#reference-and-citation">REFERENCE AND CITATION</a></li>
<li><a href="http://aehrc.github.io/Mirorr/#license">LICENSE</a></li>
<li><a href="http://aehrc.github.io/Mirorr/#building-the-program">BUILDING THE PROGRAM</a></li>
<li><a href="http://aehrc.github.io/Mirorr/#user-manual-and-examples">USER MANUAL AND EXAMPLES</a></li>
<li><a href="http://aehrc.github.io/Mirorr/#frequently-asked-questions-faq">FREQUENTLY ASKED QUESTIONS (FAQ)</a></li>
<li><a href="reporting-an-issue">REPORTING AN ISSUE</a></li>
</ul>

<h1>
<a id="reference-and-citation" class="anchor" href="#reference-and-citation" aria-hidden="true"><span class="octicon octicon-link"></span></a>REFERENCE AND CITATION</h1>

<p>Mirorr is the reference implementation for the Mirror and SymMirorr methods described in:</p>

<p>David Rivest-Hénault, Nicholas Dowson, Peter B. Greer, Jurgen Fripp, and Jason Dowling <strong>"Robust inverse-consistent affine CT-MR registration in MRI-assisted and MRI-alone prostate radiation therapy."</strong> Medical Image Analysis (In press), 2015.</p>

<p>The permanent citable DOI link to the original source code used in the production of this paper is here: <a href="http://dx.doi.org/10.4225/08/55372DE407418">dx.doi.org</a>. The GitHub version has been updated and is (semi-)actively developed. </p>

<p>If you use this program for scientific research or other related work, we would appreciate if you could cite the paper and/or the code DOI mentioned above.</p>

<h1>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>LICENSE</h1>

<p>Copyright (c) 2009-15 CSIRO. All rights reserved.</p>

<p>For complete copyright, license and disclaimer of warranty information see LICENSE.txt file for details.</p>

<p>This software is distributed WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the above copyright notice for more information.</p>

<h1>
<a id="building-the-program" class="anchor" href="#building-the-program" aria-hidden="true"><span class="octicon octicon-link"></span></a>BUILDING THE PROGRAM</h1>

<p>The README.md (a simple text file) contains detailed build instructions. Briefly, this software uses a regular CMake build. The following packages need to be installed to build Mirorr:</p>

<ul>
<li>
<a href="http://www.cmake.org/">CMake</a>.</li>
<li>
<a href="http://www.itk.org/">ITK</a>. Version v4.X recommended (tested with: 4.1.0 to 4.7.1).</li>
<li>
<a href="http://www.boost.org/">Boost</a>. At the minimum you needs the following components: <code>program_options filesystem system timer</code>
</li>
<li>If you want to use the GPU implementation, you need a working OpenCL development installation (generally provided by NVIDIA CUDA or the ATI equivalent).</li>
</ul>

<p>With any modern operating system, there should be no need to build these packages since they are readily available through your favourite package manager (I'm partial to apt-get).</p>

<h1>
<a id="user-manual-and-examples" class="anchor" href="#user-manual-and-examples" aria-hidden="true"><span class="octicon octicon-link"></span></a>USER MANUAL AND EXAMPLES</h1>

<h2>
<a id="important-usage-note" class="anchor" href="#important-usage-note" aria-hidden="true"><span class="octicon octicon-link"></span></a>Important usage note</h2>

<p>The <strong>Mirorr</strong> program implements two methods described in the original paper: <em>Mirorr</em> and <em>SymMirorr</em>. Generally, you will want to use <em>SymMirorr</em>, which is the default behaviour of <strong>Mirorr</strong> (we acknowledge that this can be a bit counter-intuitive).</p>

<p>If you really want to use the non inverse-consistent <em>Mirorr</em>, run the program as follows:</p>

<div class="highlight highlight-bash"><pre>mirorr --reg-mode classic [other program arguments]</pre></div>

<p>Otherwise, to use <em>SymMirorr</em>, run the program as follows:</p>

<div class="highlight highlight-bash"><pre>mirorr --reg-mode symmetric [other program arguments]  <span class="pl-c"># or simply:</span>
mirorr [other program arguments]</pre></div>

<h2>
<a id="getting-help" class="anchor" href="#getting-help" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting help</h2>

<p>Mirorr as a relatively extensive help page, and this is where you should start searching:</p>

<div class="highlight highlight-bash"><pre>mirorr --help</pre></div>

<p>If you can't find what you're looking for, feel free to contact the corresponding author indicated in the paper.</p>

<h2>
<a id="very-quick-start" class="anchor" href="#very-quick-start" aria-hidden="true"><span class="octicon octicon-link"></span></a>Very quick start</h2>

<p>There are two minimal examples provided in the test directory. You can run them to validate your build, and read the .sh file to get some inspiration.</p>

<div class="highlight highlight-bash"><pre><span class="pl-c1">cd</span> ../test<span class="pl-k">;</span> 
./test.sh
./test-gpu.sh  <span class="pl-c"># Will crash if your build has not been compiled with OpenCL support.</span></pre></div>

<h1>
<a id="frequently-asked-questions-faq" class="anchor" href="#frequently-asked-questions-faq" aria-hidden="true"><span class="octicon octicon-link"></span></a>FREQUENTLY ASKED QUESTIONS (FAQ)</h1>

<ul>
<li><p><strong>Mirorr is slow.</strong> Did you forget to define the CMake variable CMAKE_BUILD_TYPE to Release (CMAKE_BUILD_TYPE=Release)? Typical speedup is about 8x. In addition, you can double check that the program is really using all available CPU cores (or ask for more cores on the cluster). It is possible to make the program use a specific number of cores with --nthreads.</p></li>
<li><p><strong>Mirorr is still slow.</strong> Sometimes, the two highest resolution settings of the image pyramid can be vastly redundant. You can try to remove one with the -b and -c options.</p></li>
<li><p><strong>I want more speed.</strong> If you have a GPU that supports OpenCL (most recent NVIDIA or ATI), you can try our GPU implementation. Compile the program with (USE_OPENCL=ON) and turn on GPU by using the --use-gpu-bm switch.</p></li>
</ul>

<h1>
<a id="reporting-an-issue" class="anchor" href="#reporting-an-issue" aria-hidden="true"><span class="octicon octicon-link"></span></a>REPORTING AN ISSUE</h1>

<p>Although the developers are perfect, the source code might not be so. If you encounter an issue, please report it in the <a href="https://github.com/aehrc/Mirorr">GitHub Page</a> (you need a free GitHub account for that). Alternatively, if you are C++ literate, your can ask for a pull request. I will try to respond quickly. Finally, if none of the above works well for you, feel free to contact the corresponding author indicated in the paper.</p>
        </section>

        <footer>
          Mirorr is maintained by <a href="https://github.com/aehrc">aehrc</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

                  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-62172649-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

      </div>
    </div>
  </body>
</html>